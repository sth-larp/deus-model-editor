<!--<div class="d-flex flex-row justify-content-between mb-2">
    <div class="mx-5">
        <ngb-pagination
            [class.dmeHidden]="_eventsList.length <= pageSize"
            [collectionSize]="_eventsList.length"
            [pageSize]="pageSize"
            [page]="page"
            (pageChange)="onPageChange($event)"
        ></ngb-pagination>
    </div>
</div>-->
<div id="EventsTable" class="flexFullHeight flex-column w-100">
    <div id="tableScroller" class="flexFullHeight" style="overflow-y: auto; flex-grow: 1;">
        <ngx-datatable #eventsTable
            class="material mx-1 mt-1"
            style="width: 95%; max-height: 5000px; height: 100%;"
            [rows]="_eventsFilteredList"
            [limit]="20"
            [offset]="offset"
            [columnMode]="'force'"
            [selected]="selected"
            [selectionType]="'multi'"
        >
            <ngx-datatable-row-detail [rowHeight]="170" #myDetailRow>
                <ng-template let-row="row" ngx-datatable-row-detail-template>
                    <div class="rowDetailsBox">
                        <pre class="rowPreDetail">{{row.json}}</pre>
                    </div>
                </ng-template>
            </ngx-datatable-row-detail>


            <ngx-datatable-column
                [width]="30"
                [sortable]="false"
                [canAutoResize]="false"
                [draggable]="false"
                [resizeable]="false"
                [cellClass]="testClass">

                <ng-template ngx-datatable-cell-template let-row="row">
                        <i  class="fa fa-lg" style="opacity: 0.5;"
                            [class.fa-caret-down]="!row.$$expanded"
                            [class.fa-caret-up]="row.$$expanded"
                            (click)="onRowExpand(row)">
                        </i>
                </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column
                name="Timestamp"
                prop="timestamp"
                sortable="true"
                canAutoResize="false"
                width="120"
                minWidth="100"
                maxWidth="130">
            </ngx-datatable-column>

            <ngx-datatable-column
                name="+/-"
                prop="timeOffsetAsString"
                sortable="true"
                canAutoResize="false"
                width="50"
                minWidth="30"
                maxWidth="80">
            </ngx-datatable-column>
            <ngx-datatable-column
                name="Event Type"
                prop="eventType"
                sortable="true"
                canAutoResize="true"
                width="120"
                minWidth="100"
                maxWidth="150">
            </ngx-datatable-column>
            <ngx-datatable-column
                name="Event Data"
                prop="dataAsString"
                sortable="false"
                canAutoResize="true"
                minWidth="120"
                maxWidth="500"
                >
            </ngx-datatable-column>

        </ngx-datatable>
    </div>
    <div class="d-flex flex-row justify-content-between my-4">
            <form class="form-inline">
                <button type="button" class="btn btn-warning"
                    [disabled]="!selected.length"
                    (click)="onDeleteSelected($event)">
                        Delete Selected
                </button>

                <button type="button" class="btn btn-danger mx-3 "
                    [disabled]="!_eventsList.length"
                    (click)="onClearEvents($event)">
                        Clear events
                </button>

                <div class="form-check form-inline">
                    <label class="form-check-label">
                        <input type="checkbox" class="form-check-input" [checked]="showRefresh" (change)="showRefresh = !showRefresh"  >
                        Show Refreshes
                    </label>
                </div>
            </form>

            <ngb-pagination
                max-size=""
                class="mx-5"
                [class.dmeHidden]="_eventsList.length <= pageSize"
                [collectionSize]="_eventsList.length"
                [pageSize]="pageSize"
                [page]="page"
                rotate="true"
                (pageChange)="onPageChange($event)"
                boundary-links="true"
                direction-links="true"
                force-ellipses="true"
                maxSize="10"
            ></ngb-pagination>
    </div>
</div>
